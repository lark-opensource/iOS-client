!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"LKNativeAvatar",(function(){return P})),i.d(e,"LKNativeTitle",(function(){return C}));const n=window.navigator.userAgent.toLowerCase();const r=/android/.test(n);/ipad|iphone|ipod/.test(n)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform);function s(){return r}const a=function(){let t=[0,1];return function e(i){return"number"==typeof t[i]?t[i]:t[i]=e(i-1)+e(i-2)}}();function o(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function c(t){window.Promise?window.Promise.resolve().then(t):setTimeout(t,0)}var d=document.createDocumentFragment();let u={},l=1;function h(t,e={},i){v("nativeTagAction",{methodName:t,data:e},i)}function v(t,e,i){i=i||noop;const n="cb_"+l+++"_"+(new Date).getTime();let r={apiName:t,data:e,callbackID:n};u[n]=i,console.info("nc:invoke",r),s()?window.Lark_Bridge&&window.Lark_Bridge.invokeNative(JSON.stringify(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.invokeNative&&window.webkit.messageHandlers.invokeNative.postMessage(r)}let p=[],m={},f=null;window.LarkWebViewJavaScriptBridge=new class{nativeCallBack(t){const{callbackID:e,data:i}=t;let n=u[e];n&&(n(i),delete u[e])}},window.onLKNativeRenderComponentEvent=function(t){const{action:e,id:i,params:n}=t;d.dispatchEvent(new CustomEvent("nativeComponentActon",{detail:t}))};class g extends HTMLElement{getProperty(t){const e=this.constructor.properties;return"function"==typeof e[t]?e[t](this):this.getAttribute(t)}}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const w=0,y=1,T=2,k=3,N=4;class A extends g{updateStyleProperties(){const t=window.getComputedStyle(this);return this.cachedStyleProperties={borderRadius:t.borderRadius,objectFit:t.objectFit||"fill",backgroundColor:t.backgroundColor},this.cachedStyleProperties}static get properties(){return{}}static get observedAttributes(){return["style","class",...Object.keys(this.properties).map(o)]}constructor(){super(),b(this,"_id",""),b(this,"counter",0),b(this,"tagName",this.tagName.toLowerCase()),b(this,"state",w),b(this,"acionHandler",t=>{const{action:e,id:i,params:n}=t.detail;i==this._id&&this.dispatchEvent(new CustomEvent(e,{detail:n}))}),b(this,"cachedStyleProperties",{}),b(this,"cachedAttributes",[]),this._id=function(){let t=(~~(16777215*Math.random())).toString(16);for(;t.length<6;)t="0"+t;return t}()}manuallyInserToNative(){this.state!=T&&c(()=>this.insertToNative())}manuallyRemoveToNative(){c(()=>this.removeToNative())}insertToNative(){if(null===this.offsetParent)return void this.state;this.state=y,this.updateStyleProperties();let t={...this.cachedStyleProperties};const e=this.constructor.properties;Object.keys(e).forEach(e=>{t[e]=this.getProperty(e)});const i=()=>{!function(t,e){p.push(t),m[t.id]=e,f&&window.cancelAnimationFrame(f),f=window.requestAnimationFrame(()=>{if(!p.length)return;const t=m;h("insertNativeTag",{data:[...p]},e=>{if(0!=Object.keys(e).length)for(let i of Object.keys(e)){let n=t[i],r=e[i];n&&n({result:r})}}),p.length=0,m.length=0})}({id:this._id,tagName:this.tagName,data:t},t=>{if(this.counter++,0===t.result)return void(this.state=T);if(this.counter>10)return void(this.state=k);if(this.state==N)return;const e=40*a(this.counter);setTimeout(i,e)})};i(),this.cachedAttributes=[]}updateToNative(){if(this.state<T||this.state===k||!this.cachedAttributes.length)return;let t=!1,e={};this.cachedAttributes.forEach(i=>{if(["class","style"].indexOf(i)>-1)return void(t=!0);const n=camelCased(i);e[n]=this.getProperty(n)}),t&&this.updateStyleProperties(),h("updateNativeTag",{data:[{id:this._id,tagName:this.tagName,data:{...e,...this.cachedStyleProperties}}]},t=>{const{respTime:e,recvTime:i}=t}),this.cachedAttributes=[]}removeToNative(){h("removeNativeTag",{data:[{id:this._id,tagName:this.tagName}]},t=>{const{respTime:e,recvTime:i}=t}),this.state=w,this.cachedAttributes=[]}connectedCallback(){this.buildInnerHTML(),c(()=>this.insertToNative()),d.addEventListener("nativeComponentActon",this.acionHandler)}disconnectedCallback(){this.innerHTML="",this.removeToNative(),this.state=N,d.removeEventListener("nativeComponentActon",this.acionHandler)}attributeChangedCallback(t,e,i){this.firstChild||(this.cachedAttributes.push(t),c(()=>this.updateToNative()))}buildInnerHTML(){s()?this.innerHTML=`<div tt-render-in-browser="${this._id}" style="width:100%;height:100%;user-select:none;"></div>`:this.innerHTML=[`<native-element-inner style="-webkit-overflow-scrolling:touch;overflow:scroll;width:100%;height:100%;display:block;user-select:none; background: #${this._id}01">`,'<div style="width: 100%; height:100%; margin-top: 1px"></div>',"</native-element-inner>"].join("")}}class P extends A{static get properties(){return{entityid:t=>t.getAttribute("entityid"),avatarkey:t=>t.getAttribute("avatarkey"),name:t=>t.getAttribute("name"),address:t=>t.getAttribute("address"),userType:t=>t.getAttribute("userType"),tenantId:t=>t.getAttribute("tenantId")}}}class C extends A{static get properties(){return{}}}console.log(P),console.log(C),customElements.define("lk-native-avatar",P),customElements.define("lk-native-title",C)}]);