(()=>{"use strict";var t;!function(t){t.color="color",t.backgroundColor="backgroundColor",t.border="border",t.backgroundImage="backgroundImage"}(t||(t={}));const e={"255,255,255":[26,26,26],"242,243,245":[41,41,41],"222,224,227":[67,67,67],"143,149,158":[117,117,117],"55,60,67":[224,224,224],"0,0,0":[255,255,255],"51,112,255":[76,136,255],"225,234,255":[25,42,76],"186,206,253":[32,62,120],"78,131,253":[46,101,209],"36,91,219":[112,160,255],"19,60,154":[184,207,255],"52,199,36":[84,194,72],"217,245,214":[31,71,27],"183,237,177":[41,107,34],"98,210,86":[59,176,46],"46,161,33":[109,209,98],"24,96,16":[189,240,184],"127,59,245":[151,98,245],"236,226,254":[54,29,97],"205,178,250":[77,38,145],"147,90,246":[124,74,212],"100,37,208":[164,114,252],"56,13,130":[211,186,253],"255,198,10":[250,200,35],"250,241,209":[87,71,17],"248,230,171":[143,114,17],"250,211,85":[240,187,10],"220,155,4":[252,212,86],"121,81,1":[255,230,148],"245,74,69":[240,91,86],"253,226,226":[74,29,27],"251,191,188":[107,40,39],"247,105,100":[204,71,67],"216,57,49":[250,120,115],"129,37,32":[254,198,195],"239,240,241":[55,55,55],"187,191,196":[95,95,95],"100,106,115":[166,166,166],"245,246,247":[41,41,41]},r={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},o=t=>{const e=t.trim();let o=r[e];return o||("windowtext"===e?[0,0,0]:(o=a(e),o||(o=n(e),o||null)))},n=t=>{const e=t.length;if(!/^#[A-Fa-f\d]+$/.test(t)||4!==e&&5!==e&&7!==e&&9!==e)return null;let r,o,n,l=1;return 4===e||5===e?(r=parseInt(t[1]+t[1],16),o=parseInt(t[2]+t[2],16),n=parseInt(t[3]+t[3],16),5===e&&(l=parseInt(t[4]+t[4],16)/255)):(r=parseInt(t[1]+t[2],16),o=parseInt(t[3]+t[4],16),n=parseInt(t[5]+t[6],16),9===e&&(l=parseInt(t[7]+t[8],16)/255)),1===l?[r,o,n]:[r,o,n,l]},l=t=>t.length>4?"":4===t.length?`rgba(${Math.round(t[0])}, ${Math.round(t[1])}, ${Math.round(t[2])}, ${t[3]})`:`rgb(${Math.round(t[0])}, ${Math.round(t[1])}, ${Math.round(t[2])})`,i=t=>t.length>4?"":t.reduce(((t,e,r)=>`${t}${s(r<3?e:Math.round(255*e))}`),"#"),s=t=>t<16?"0"+t.toString(16):t.toString(16),a=t=>{let e=null;const r=u(t);if(r){const[t,o]=r;switch(t){case"rgb":e=o.slice(0,3).map(Math.round);break;case"hsl":e=h(o[0]/360,o[1]/100,o[2]/100).map(Math.round);break;case"hsv":e=f(o[0]/360,o[1]/100,o[2]/100).map(Math.round)}e&&void 0!==o[3]&&1!==o[3]&&(e[3]=o[3])}return e},c={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},u=t=>{const e=/^((?:rgb|hs[lv])a?)\s*\(([^)]*)\)/i.exec(t);if(!e)return null;const r=e[1].toLowerCase(),o=r.replace(/a$/,"");if("rgb"!==o&&"hsl"!==o&&"hsv"!==o)return null;const n=r.endsWith("a"),l=e[2].trim().split(/\s*[,\/]\s*|\s+/);if(!(n?4===l.length:3===l.length))return null;const i=l.map(((t,e)=>{if(t.endsWith("%"))return 3===e?parseFloat(t)/100:"rgb"===o?255*parseFloat(t)/100:parseFloat(t);if("hsl"===o&&0===e){if(t.endsWith("deg"))return parseFloat(t);if(void 0!==c[t])return c[t]}return parseFloat(t)}));return[o,i]},d=(t,e,r)=>{const o=Math.max(t,e,r),n=Math.min(t,e,r),l=Math.floor((o+n)/5.1);if(o===n)return[0,0,l];const i=o-n,s=Math.floor(i/(l>50?510-o-n:o+n)*100);return o===t?[Math.floor(60*((e-r)/i+(e<r?6:0))),s,l]:o===e?[Math.floor(60*((r-t)/i+2)),s,l]:[Math.floor(60*((t-e)/i+4)),s,l]},g=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),h=(t,e,r)=>{let o,n,l;if(0===e)o=n=l=r;else{const i=r<.5?r*(1+e):r+e-r*e,s=2*r-i;o=g(s,i,t+1/3),n=g(s,i,t),l=g(s,i,t-1/3)}return[Math.max(0,Math.min(Math.round(255*o),255)),Math.max(0,Math.min(Math.round(255*n),255)),Math.max(0,Math.min(Math.round(255*l),255))]},f=(t,e,r)=>{let o=0,n=0,l=0;const i=Math.floor(6*t),s=6*t-i,a=r*(1-e),c=r*(1-s*e),u=r*(1-(1-s)*e);switch(i%6){case 0:o=r,n=u,l=a;break;case 1:o=c,n=r,l=a;break;case 2:o=a,n=r,l=u;break;case 3:o=a,n=c,l=r;break;case 4:o=u,n=a,l=r;break;case 5:o=r,n=a,l=c}return[255*o,255*n,255*l]};class p{constructor(){this.dark2Light={}}static genKey(t){return t.join(",")}getMap(t){let e=this.dark2Light[t];return e||(e={},this.dark2Light[t]=e),e}collectColor(t,e,r){this.getMap(r)[p.genKey(e)]=t}getLightColor(t,e){return this.getMap(e)[p.genKey(t)]}}const m=t=>(new DOMParser).parseFromString(`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${t}</body></html>`,"text/html"),b=60,y=96,k=8,C=24,w=["table","tbody","tfoot","colgroup","tr","td","th"],P=[["border-left-color","data-src-bd-left"],["border-top-color","data-src-bd-top"],["border-right-color","data-src-bd-right"],["border-bottom-color","data-src-bd-bottom"]],v=function(){let t=/\s*,\s*/,e=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,r=N(["(?:",/\#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),o=N([r,"(?:\\s+",e,"(?:\\s+",e,")?)?"],""),n=N(["(?:",o,t,")*",o],""),l=N(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?))/,")"],"");return{gradientSearch:N(["(?:(",l,")",t,")?(",n,")"],"gi"),colorStopSearch:N(["\\s*(",r,")","(?:\\s+","(",e,"))?","(?:",t,"\\s*)?"],"gi")}}();function M(t,e){const r=4===t.length?t[3]:1;if(0===r)return;let o=F(t),n=null;if(o||(n=T(d(t[0],t[1],t[2])),o=h(n[0]/360,n[1]/100,n[2]/100)),e&&I(o,e)<4.5){n||(n=d(o[0],o[1],o[2]));const t=L(n[2],!1);o=h(n[0]/360,n[1]/100,t/100)}return 1!==r&&(o[3]=r),o}function x(e,r,n,s,a){let c="background-image";const u=e.getPropertyValue(c);if(-1!==u.indexOf("url"))return;if(-1!==u.indexOf("linear-gradient")){const r=function(e,r){const n=function(t){const e=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/.exec(t);let r;return null!==e&&(r=function(t,e){const{gradientSearch:r,colorStopSearch:o}=t;let n=null;r.lastIndex=0;let l=r.exec(e);if(null!==l){n={original:l[0],colorStopList:[]},l[1]&&(n.line=l[1]),l[2]&&(n.angle=l[2]),l[3]&&(n.sideCorner=l[3]),o.lastIndex=0;let t=o.exec(l[4]);for(;null!==t;){const e={color:t[1]};t[2]&&(e.position=t[2]),n.colorStopList.push(e),t=o.exec(l[4])}}return n}(v,e[1]),r.original.trim()!==e[1].trim()&&(r.parseWarning=!0)),r}(e);let i=`linear-gradient(${n.line||""}`;for(let e=0;e<n.colorStopList.length;e++){const s=n.colorStopList[e],a=o(s.color);if(a){const e=4===a.length?a[3]:1;if(0!==e){let o=F(a);if(!o){const t=T(d(a[0],a[1],a[2]));o=h(t[0]/360,t[1]/100,t[2]/100),1!==e&&(o[3]=e)}i+=`, ${l(o)} ${s.position||""}`,r(a,o,t.backgroundImage);continue}}i+=`, ${s} ${s.position||""}`}return i+=")",i}(u,n),i="important"===e.getPropertyPriority(c);return void s(t.backgroundImage,c,!1,u,r,i)}c="background-color";let g=!1,f="";const p=r();if(p&&-1!==w.indexOf(p.tagName.toLowerCase())){const t=p.getAttribute("bgcolor");t&&(f=t)}const m=e.getPropertyValue(c);if(m&&(f=m,g=!0),!f)return;const b=o(f);if(!b)return;const y=$(b,a);if(y){if(g){const r=l(y),o="important"===e.getPropertyPriority(c);s(t.backgroundColor,c,!1,f,r,o)}else{const e=i(y);s(t.backgroundColor,c,!0,f,e,!1)}return n(b,y,t.backgroundColor),y}}function $(t,e){const r=4===t.length?t[3]:1;if(0===r)return;let o=F(t),n=null;if(o||(n=function(t){const e=t[2];let r=0===e?k:Math.abs(100-e);return r=j(r,k,C),r+=1.8*Math.cos(r/10),[t[0],t[1],r]}(d(t[0],t[1],t[2])),o=h(n[0]/360,n[1]/100,n[2]/100)),e&&I(o,e)<4.5){n||(n=d(o[0],o[1],o[2]));const t=L(n[2],!0);o=h(n[0]/360,n[1]/100,t/100)}return 1!==r&&(o[3]=r),o}const L=(t,e)=>{let r;return r=e?-t/5+30:-t/3+96,r};function S(e,r,n,i){const s=e.getPropertyValue(r);if(!s)return;const a=o(s);if(!a)return;const c=A(a);if(!c)return;const u=l(c),d="important"===e.getPropertyPriority(r);i(t.border,r,!1,s,u,d),n(a,c,t.border)}function A(t){const e=4===t.length?t[3]:1;if(0===e)return;let r=F(t);if(r)return r;const o=T(d(t[0],t[1],t[2]));return r=h(o[0]/360,o[1]/100,o[2]/100),1!==e&&(r[3]=e),r}const E=t=>{const e=t.map((t=>{const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*e[0]+.7152*e[1]+.0722*e[2]},I=(t,e)=>{const r=E(t),o=E(e);return r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},F=t=>{const r=t.join(",");return e[r]||null};function T(t){const e=t[2];let r=Math.abs(100-e);return r=j(r,b,y),[t[0],t[1],r]}function j(t,e,r){return t>r?r:t<e?e:t}function N(t,e){let r="";for(let e=0;e<t.length;e++)"string"==typeof t[e]?r+=t[e]:r+=t[e].source;return new RegExp(r,e)}const B=(e,r,n)=>{const i=[],{selectorText:s,style:a}=e;let c="color",u=a.getPropertyValue(c);if(u&&"string"==typeof u){const e=o(u);if(e){const o=M(e);if(o){const n=l(o);if(n){const l=`${c}:${n}${"important"===a.getPropertyPriority(c)?" !important":""};`;i.push(l),r.collectColor(e,o,t.color)}}}}const d=(t,e,o)=>{r.collectColor(t,e,o)},g=(t,e,r,o,n,l)=>{const s=`${e}:${n}${l?" !important":""};`;i.push(s)};if(x(a,(()=>{}),d,g),["border-left-color","border-top-color","border-right-color","border-bottom-color"].forEach((t=>{S(a,t,d,g)})),c="box-shadow",u=a.getPropertyValue(c),u&&"string"==typeof u){const t=`${c}:null${"important"===a.getPropertyPriority(c)?" !important":""};`;i.push(t)}return i.length?`${s.split(",").map((t=>`${n} ${t}`)).join(",")} {${i.join("\n")}}`:""},V=(e,r,n,s,a,c,u)=>{if(n(e))return;const d=e,g=d.tagName.toLowerCase();if("style"===g){const t=((t,e,r)=>{if(t.classList.contains("darken-generated"))return null;const o=t.sheet||(t=>{if(!t)return null;const e=document.createElement("iframe");document.head.appendChild(e);const r=e.contentDocument;if(!r)return null;const o=r.createElement("style");o.textContent=t,r.head.appendChild(o);const n=r.styleSheets[0];return e.remove(),n})(t.textContent);if(!o)return null;const n=[];for(let t=0,l=o.cssRules,i=l.length;t<i;t++){const o=l[t];if(o.type===CSSRule.STYLE_RULE){const t=B(o,r,e);t&&n.push(t)}else if(o.type===CSSRule.MEDIA_RULE){const t=o,l=t.conditionText;if(l&&-1!==l.indexOf("prefers-color-scheme"))continue;const i=t.cssRules,s=[];for(let t=0,o=i.length;t<o;t++){const o=i[t];if(o.type===CSSRule.STYLE_RULE){const t=B(o,r,e);t&&s.push(t)}}if(s.length){const t=`@media ${l}{${s.join("\n")}}`;n.push(t)}}}return n.length?(t=>{const e=document.createElement("style");return e.innerHTML=t.join("\n"),e.className="darken-generated",e})(n):null})(d,r,s);if(t){const e=d.parentNode,r=d.nextSibling;e&&r?e.insertBefore(t,r):e&&e.appendChild(t)}return}if("img"===g)return;const h=function(e,r,n){const s="color";let a=!1,c="";if("font"===e.tagName.toLowerCase()){const t=e.getAttribute(s);t&&(c=t)}const u=e.style.getPropertyValue(s);if(u&&(c=u,a=!0),!c)return;const d=o(c);if(!d)return;let g=M(d,n);if(g){if(a){const t=l(g),r="important"===e.style.getPropertyPriority(s);e.style.setProperty(s,t,r?"important":void 0)}else{const t=i(g);e.setAttribute(s,t)}return e.setAttribute("data-src-color",c),r.collectColor(d,g,t.color),g}}(d,s,a?c:void 0),f=h||u,p=function(e,r,o){return x(e.style,(()=>e),((t,e,o)=>{r.collectColor(t,e,o)}),((r,o,n,l,i,s)=>{n?e.setAttribute("bgcolor",i):e.style.setProperty(o,i,s?"important":void 0),r===t.backgroundImage?e.setAttribute("data-src-bg-image",l):r===t.backgroundColor&&e.setAttribute("data-src-bg-color",l)}),o)}(d,s,a?f:void 0),m=p||c;!function(t,e){P.forEach((([r,o])=>{t.hasAttribute(o)||S(t.style,r,((t,r,o)=>{e.collectColor(t,r,o)}),((e,r,n,l,i,s)=>{t.style.setProperty(r,i,s?"important":void 0),t.setAttribute(o,l)}))}))}(d,s),function(t){const e=t.style.getPropertyValue("box-shadow");e&&(t.setAttribute("data-src-shadow",e),t.style.setProperty("box-shadow",null))}(d);let b=d.firstElementChild;for(;null!=b;){let t=b.nextElementSibling;V(b,r,n,s,a,m,f),b=t}},q=(e,r,n,s,a)=>{var c;if(r(e))return;const u=e,d=u.tagName.toLowerCase();if("style"===d)return void(u.classList.contains("darken-generated")&&(null===(c=u.parentNode)||void 0===c||c.removeChild(u)));if("img"===d)return;var g;!function(e,r,n,i){let s="background-image";const a=e.getAttribute("data-src-bg-image");if(a){e.removeAttribute("data-src-bg-image");const t="important"===e.style.getPropertyPriority(s);e.style.setProperty(s,a,t?"important":void 0)}if(s="background-color",r){const t=e.getAttribute("data-src-bg-color");if(t)if(e.removeAttribute("data-src-bg-color"),Boolean(e.style.getPropertyValue(s))){const r="important"===e.style.getPropertyPriority(s);e.style.setProperty(s,t,r?"important":void 0)}else e.setAttribute("bgcolor",t)}else{const r=e.style.getPropertyValue(s);if(r&&"string"==typeof r){const a=o(r);if(a){let r=n.getLightColor(a,t.backgroundColor);if(r||a.join(",")!==i.darkBackgroundColor.join(",")||(r=i.lightBackgroundColor),r){const t=l(r),o="important"===e.style.getPropertyPriority(s);e.style.setProperty(s,t,o?"important":void 0)}}}}}(u,n,s,a),function(e,r,n,s){const a="color";if(r){const t=e.getAttribute("data-src-color");if(t)if(e.removeAttribute("data-src-color"),Boolean(e.style.getPropertyValue(a))){const r="important"===e.style.getPropertyPriority(a);e.style.setProperty(a,t,r?"important":void 0)}else e.setAttribute(a,t)}else{let r=!1,c="";if("font"===e.tagName.toLowerCase()){const t=e.getAttribute(a);t&&(c=t)}const u=e.style.getPropertyValue(a);if(u&&(c=u,r=!0),!c)return;const d=o(c);if(!d)return;let g=n.getLightColor(d,t.color);if(g||d.join(",")!==s.darkFrontColor.join(",")||(g=s.lightFrontColor),g)if(r){const t=l(g),r="important"===e.style.getPropertyPriority(a);e.style.setProperty(a,t,r?"important":void 0)}else{const t=i(g);e.setAttribute(a,t)}}}(u,n,s,a),g=u,P.forEach((([t,e])=>{const r=g.getAttribute(e);if(r){g.removeAttribute(e);const o="important"===g.style.getPropertyPriority(t);g.style.setProperty(t,r,o?"important":void 0)}})),function(t){const e=t.getAttribute("data-src-shadow");t.removeAttribute("data-src-shadow"),e&&t.style.setProperty("box-shadow",e)}(u);let h=u.firstElementChild;for(;null!=h;){let t=h.nextElementSibling;q(h,r,n,s,a),h=t}},D=t=>t.nodeType!==Node.ELEMENT_NODE||"svg"===t.tagName;window.Darken=class{constructor(t){this.transformCollector=new p,this.excludeChecker=D;const{isEnabledContrast:e=!0,darkBackgroundColor:r,darkFrontColor:n,lightBackgroundColor:l,lightFrontColor:i}=t;this.isEnabledContrast=e,this.colorConfig={darkBackgroundColor:o(r)||[0,0,0],darkFrontColor:o(n)||[255,255,255],lightBackgroundColor:o(l)||[255,255,255],lightFrontColor:o(i)||[0,0,0]}}darken(t){const e=(new Date).getTime(),{html:r,selectorPrependInStyle:o,excludeSelectors:n}=t;let l,i;if(this.excludeChecker=(t=>{let e=D;if(t&&t.length){const r=t.join(",");e=t=>!!D(t)||t.matches(r)}return e})(n),"string"==typeof r){const t=m(r);V(t.body,o,this.excludeChecker,this.transformCollector,this.isEnabledContrast,this.colorConfig.darkBackgroundColor,this.colorConfig.darkFrontColor),l=t.body}else l=r,V(l,o,this.excludeChecker,this.transformCollector,this.isEnabledContrast,this.colorConfig.darkBackgroundColor,this.colorConfig.darkFrontColor);return i="string"==typeof r?l.innerHTML:l,{html:i,costTime:(new Date).getTime()-e}}lighten(t){const e=(new Date).getTime(),{html:r,isCopying:o}=t;let n,l;if("string"==typeof r){const t=m(r);for(q(t.body,this.excludeChecker,!o,this.transformCollector,this.colorConfig),n=document.createElement("div");t.body.firstChild;)n.append(t.body.firstChild)}else n=r,q(n,this.excludeChecker,!o,this.transformCollector,this.colorConfig);return l="string"==typeof r?n.innerHTML:n,{html:l,costTime:(new Date).getTime()-e}}darkenColor(e,r){const n=o(e);if(n){let e;switch(r){case t.color:e=M(n);break;case t.backgroundColor:case t.backgroundImage:e=$(n);break;case t.border:e=A(n)}if(e){const t=l(e);if(t)return this.transformCollector.collectColor(n,e,r),t}}return e}lightenColor(t,e){const r=o(t);if(r){const t=this.transformCollector.getLightColor(r,e);if(t)return l(t)}return t}}})();