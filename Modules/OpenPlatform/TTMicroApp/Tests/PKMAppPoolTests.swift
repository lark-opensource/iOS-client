//
//  PKMAppPoolTests.swift
//  TTMicroApp-Unit-Tests
//
//  Created by Nicholas Tau on 2022/12/7.
//

import XCTest
import OPSDK
import Foundation
@testable import TTMicroApp

extension String {
    func toJSONMap() -> NSDictionary? {
        let data = self.data(using: .utf8) ?? Data()
        return try? JSONSerialization.jsonObject(with: data, options: []) as? NSDictionary
    }
}

final class PKMAppPoolTests: XCTestCase {
    let gadgetAppPool = PKMAppPoolManager.sharedInstance.appPoolWith(pkmType: .gadget, isPreview: false) as! PKMAppPool

    override func tearDownWithError() throws {
        // Put teardown code here. This method is called after the invocation of each test method in the class.
        let allApps = gadgetAppPool.allApps()
        allApps.forEach { (key: String, value: [PKMApp]) in
            let metaList = value.compactMap { (pkmApp) -> GadgetMeta? in
                guard let meta = getAllMetaListWith(key ,pkmApp.originalJSONString) else {
                    XCTAssertNotNil(nil, "meta can't be nil")
                    return nil
                }
                XCTAssertTrue(meta.appVersion == pkmApp.appVersion)
                return meta
            }
            let _ = gadgetAppPool.remove(apps: metaList)
        }
        gadgetAppPool.latestAppMetaMap.removeAll()
        XCTAssertTrue(gadgetAppPool.appCount() == 0)
    }

    //从内存缓存获取数据
    func test_insertDataFromMemory() {
        let metaOriginalJSONList = [mockJSONStringA_v0, mockJSONStringA_v1, mockJSONStringA_v2, mockJSONStringB]
        let appID = "cli_a0f543c81b7a900b"
        let appVersion = "1.1.50"
        let appList = metaOriginalJSONList.compactMap { originalJSON in
            getAllMetaListWith(appID, originalJSON)
        }

        //直接更新内存数据
        let uniqueID = PKMUniqueID(appID: appID, identifier: nil)
        let lastUpdateTime = NSNumber(value: Int(Date().timeIntervalSince1970 * 1000))
        gadgetAppPool.updateAppMetaInMemoryWith(app: PKMApp(pkmType:.gadget,
                                                            uniqueID: uniqueID,
                                                            originalJSONString: mockJSONStringA_v0,
                                                            lastUpdateTime: lastUpdateTime,
                                                            appVersion: appVersion,
                                                            packageName: nil))
        //数据库里此时没有数据，拿到的应该就是内存的数据
        let resultMatchInMemory = gadgetAppPool.findAppWith(uniqueID: uniqueID, appVersion: appVersion)?.originalJSONString

        //比较两者是否一致
        XCTAssertEqual(appID, resultMatchInMemory?.toJSONMap()?["appID"] as? String)
    }
    
    func test_addAndFind() {
        let metaOriginalJSONList = [mockJSONStringA_v0, mockJSONStringA_v1, mockJSONStringA_v2, mockJSONStringB]
        let appID = "cli_a0f543c81b7a900b"
        let appVersion = "1.1.50"
        let appList = metaOriginalJSONList.compactMap { originalJSON in
            getAllMetaListWith(appID, originalJSON)
        }

        let uniqueID = PKMUniqueID(appID: appID, identifier: nil)
        //插入数据到数据库
        XCTAssertTrue(gadgetAppPool.add(apps: appList))
        
        let allApps = gadgetAppPool.allApps()
        XCTAssertEqual(allApps[appID]?.count, metaOriginalJSONList.count)
        let metaMapFromDBList = allApps[appID] ?? []
        
        //依次比较版本，应该是降序。且和插入的数据一致
        for (index, value) in appList.enumerated() {
            let pkmApp = metaMapFromDBList[metaMapFromDBList.count - index - 1]
            XCTAssertEqual(pkmApp.appVersion, value.appVersion)
            XCTAssertEqual(pkmApp.originalJSONString.toJSONMap(), value.originalJSONString.toJSONMap())
        }
    }

    func getAllMetaListWith(_ appID:String, _ originalJSONString: String = mockJSONStringAStatic) -> GadgetMeta? {
        let uniqueId = OPAppUniqueID(appID: appID, identifier: nil, versionType: .current, appType: .gadget)
        let metaContext = MetaContext(uniqueID: uniqueId, token: "")
        let provider = GadgetMetaProvider(type: .gadget)
        guard let meta = try? provider.buildMetaModel(with:originalJSONString, context: metaContext) as? GadgetMeta else {
            XCTAssertNotNil(nil, "meta can't be nil")
            return nil
        }
        return meta
    }
    
    func test_allAppsInPool() {
        let metaOriginalJSONList = [mockJSONStringA_v0, mockJSONStringA_v1, mockJSONStringA_v2, mockJSONStringB]
        let appID = "cli_a0f543c81b7a900b"
        let appList = metaOriginalJSONList.compactMap { originalJSON in
            getAllMetaListWith(appID, originalJSON)
        }
        XCTAssertTrue(gadgetAppPool.add(apps: appList))
        //直接更新内存数据
        let allApps = gadgetAppPool.allApps()
        XCTAssertTrue(allApps.values.count>0)
        
        let allAppsWithUniqueID = gadgetAppPool.allApps(PKMUniqueID(appID: appID, identifier: nil))
        XCTAssertTrue(allAppsWithUniqueID.values.count>0)
    }

    private lazy var mockJSONStringA_v0: String = {
        """
{"appVersion":"1.1.50","versionType":"current","version":"0.1.65","name":"subpackage-test","packageData":{"urls":
["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js"],"md5":"ca7498574d852ca0f27a76f4fd0cec00"},"appID":"cli_a0f543c81b7a900b","compileVersion":"","businessData":{"versionCode":1669259473,"minJSsdkVersion":"","message_action":true,"isFromBuildin":false,"chat_action":true,"extraDict":{"feedback":false,"useOpenSchemaWhiteList":true,"openSchemaWhiteList":[{"host":"itunes.apple.com","schema":"https"},{"host":"app.feishu.cn","schema":"https"},{"schema":"seal"},{"host":"canva.cn","schema":"https"},{"host":"login.microsoftonline.com","schema":"https"},{"host":"wj.bytedance.com","schema":"https"},{"host":"seal.bytedance.net","schema":"https"},{"host":"www.canva.cn","schema":"https"},{"host":"canva-china.jp.jp.ngrok.io","schema":"https"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.larksuite.com","schema":"https"},{"host":"i.snssdk.com","schema":"https"},{"host":"www.feishu.cn","schema":"https"},{"host":"crashes","schema":"chrome"},{"schema":"itms-services"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.feishu.cn","schema":"lark"},{"host":"applink.larksuite.com","schema":"https"},{"host":"larksuite.help","schema":"https"},{"host":"getfeishu.cn","schema":"https"},{"host":"approval.bytedance.com","schema":"https"},{"host":"applink.larksuite.com","schema":"lark"},{"host":"wiki.bytedance.net","schema":"https"},{"host":"accounts.google.com","schema":"https"}],"orgAuthScope":{},"web_app":{"md5":"","url":"","version_code":""},"userAuthScopeList":{"userLocation":{"mod":1,"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"mod":1,"auth":true,"modifyTime":1668564938000}},"userAuthScope":{"userLocation":{"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"auth":true,"modifyTime":1668564938000}}},"shareLevel":0,"webURL":"","minLarkVersion":""},"components":[{"name":"editor"}],"batchMetaVersion":0,"authData":{"domainsAuthDict":{},"versionUpdateTime":1669265056,"versionState":0,"blackList":[],"authList":[],"gadgetSafeUrls":["https://open.larksuite.com","https://open.feishu.cn","https://open.larksuite.com","https://app.feishu.cn","https://wj.bytedance.com","https://seal.bytedance.net","https://applink.feishu.cn","https://applink.larksuite.com","https://i.snssdk.com","https://www.feishu.cn","https://applink.feishu.cn","https://applink.larksuite.com","https://larksuite.help","https://getfeishu.cn","https://wiki.bytedance.net","https://sso.bytedance.com","https://passport.feishu.cn","https://jira.feishu.cn"],"appStatus":1},"mobileSubPackage":{"page/API":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js"],"pages":["index","pages/login/login","pages/check-session/check-session","pages/vibrate/vibrate","pages/get-user-info/get-user-info","pages/share/share","pages/watermark/watermark","pages/live-check/live-check","pages/choose-contact/choose-contact","pages/set-navigation-bar-title/set-navigation-bar-title","pages/navigator/navigator","pages/pull-down-refresh/pull-down-refresh","pages/animation/animation","pages/action-sheet/action-sheet","pages/modal/modal","pages/toast/toast","pages/get-network-type/get-network-type","pages/get-system-info/get-system-info","pages/keep-screen-brightness/keep-screen-brightness","pages/on-user-capture-screen/on-user-capture-screen","pages/make-phone-call/make-phone-call","pages/scan-code/scan-code","pages/request/request","pages/web-socket/web-socket","pages/upload-file/upload-file","pages/download-file/download-file","pages/image/image","pages/voice/voice","pages/file/file","pages/on-accelerometer-change/on-accelerometer-change","pages/on-compass-change/on-compass-change","pages/canvas/canvas","pages/page-scroll-to/page-scroll-to","pages/inneraudio/inneraudio","pages/video/video","pages/get-location/get-location","pages/open-location/open-location","pages/choose-location/choose-location","pages/storage/storage","pages/get-connected-wifi/get-connected-wifi","pages/get-clipboard-data/get-clipboard-data","pages/on-network-status-change/on-network-status-change","pages/chat/chat","pages/openschema/openschema","pages/device-authentication/device-authentication","pages/password-verify/password-verify","pages/mailto/mailto","pages/choose-chat/choose-chat","pages/get-device-id/get-deviceId","pages/get-launch-query/get-launch-query"],"independent":false,"md5":"e01543d3cf5fdc8e352f4fd75a496698"},"page/componen2":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false,"md5":"9c6101826973c82e0a3b1414c2d21ad0"},"page/component":{"md5":"bff3aa680e2a7846aaa08aac2060baca","path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js","https://sf3-cn.feishucd.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false},"page/independent":{"md5":"7b5e0dafb01f33b0bf5061a638b4fce1","independent":true,"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js"],"pages":["index"]},"__APP__":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js"],"independent":false,"md5":"ba6d24a04f6b905f4c944800cf8c31e9","pages":["page/index"]}},"appType":1,"iconUrl":"https://s1-imfile.feishucdn.com/static-resource/v1/cace5838-a1c9-4829-a68a-18e4014cfeag","identifier":"cli_a0f543c81b7a900b"}
"""
    }()

    private lazy var mockJSONStringA_v1: String = {
        """
{"appVersion":"1.1.51","versionType":"current","version":"0.1.65","name":"subpackage-test","packageData":{"urls":
["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js"],"md5":"ca7498574d852ca0f27a76f4fd0cec00"},"appID":"cli_a0f543c81b7a900b","compileVersion":"","businessData":{"versionCode":1669259473,"minJSsdkVersion":"","message_action":true,"isFromBuildin":false,"chat_action":true,"extraDict":{"feedback":false,"useOpenSchemaWhiteList":true,"openSchemaWhiteList":[{"host":"itunes.apple.com","schema":"https"},{"host":"app.feishu.cn","schema":"https"},{"schema":"seal"},{"host":"canva.cn","schema":"https"},{"host":"login.microsoftonline.com","schema":"https"},{"host":"wj.bytedance.com","schema":"https"},{"host":"seal.bytedance.net","schema":"https"},{"host":"www.canva.cn","schema":"https"},{"host":"canva-china.jp.jp.ngrok.io","schema":"https"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.larksuite.com","schema":"https"},{"host":"i.snssdk.com","schema":"https"},{"host":"www.feishu.cn","schema":"https"},{"host":"crashes","schema":"chrome"},{"schema":"itms-services"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.feishu.cn","schema":"lark"},{"host":"applink.larksuite.com","schema":"https"},{"host":"larksuite.help","schema":"https"},{"host":"getfeishu.cn","schema":"https"},{"host":"approval.bytedance.com","schema":"https"},{"host":"applink.larksuite.com","schema":"lark"},{"host":"wiki.bytedance.net","schema":"https"},{"host":"accounts.google.com","schema":"https"}],"orgAuthScope":{},"web_app":{"md5":"","url":"","version_code":""},"userAuthScopeList":{"userLocation":{"mod":1,"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"mod":1,"auth":true,"modifyTime":1668564938000}},"userAuthScope":{"userLocation":{"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"auth":true,"modifyTime":1668564938000}}},"shareLevel":0,"webURL":"","minLarkVersion":""},"components":[{"name":"editor"}],"batchMetaVersion":0,"authData":{"domainsAuthDict":{},"versionUpdateTime":1669265056,"versionState":0,"blackList":[],"authList":[],"gadgetSafeUrls":["https://open.larksuite.com","https://open.feishu.cn","https://open.larksuite.com","https://app.feishu.cn","https://wj.bytedance.com","https://seal.bytedance.net","https://applink.feishu.cn","https://applink.larksuite.com","https://i.snssdk.com","https://www.feishu.cn","https://applink.feishu.cn","https://applink.larksuite.com","https://larksuite.help","https://getfeishu.cn","https://wiki.bytedance.net","https://sso.bytedance.com","https://passport.feishu.cn","https://jira.feishu.cn"],"appStatus":1},"mobileSubPackage":{"page/API":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js"],"pages":["index","pages/login/login","pages/check-session/check-session","pages/vibrate/vibrate","pages/get-user-info/get-user-info","pages/share/share","pages/watermark/watermark","pages/live-check/live-check","pages/choose-contact/choose-contact","pages/set-navigation-bar-title/set-navigation-bar-title","pages/navigator/navigator","pages/pull-down-refresh/pull-down-refresh","pages/animation/animation","pages/action-sheet/action-sheet","pages/modal/modal","pages/toast/toast","pages/get-network-type/get-network-type","pages/get-system-info/get-system-info","pages/keep-screen-brightness/keep-screen-brightness","pages/on-user-capture-screen/on-user-capture-screen","pages/make-phone-call/make-phone-call","pages/scan-code/scan-code","pages/request/request","pages/web-socket/web-socket","pages/upload-file/upload-file","pages/download-file/download-file","pages/image/image","pages/voice/voice","pages/file/file","pages/on-accelerometer-change/on-accelerometer-change","pages/on-compass-change/on-compass-change","pages/canvas/canvas","pages/page-scroll-to/page-scroll-to","pages/inneraudio/inneraudio","pages/video/video","pages/get-location/get-location","pages/open-location/open-location","pages/choose-location/choose-location","pages/storage/storage","pages/get-connected-wifi/get-connected-wifi","pages/get-clipboard-data/get-clipboard-data","pages/on-network-status-change/on-network-status-change","pages/chat/chat","pages/openschema/openschema","pages/device-authentication/device-authentication","pages/password-verify/password-verify","pages/mailto/mailto","pages/choose-chat/choose-chat","pages/get-device-id/get-deviceId","pages/get-launch-query/get-launch-query"],"independent":false,"md5":"e01543d3cf5fdc8e352f4fd75a496698"},"page/componen2":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false,"md5":"9c6101826973c82e0a3b1414c2d21ad0"},"page/component":{"md5":"bff3aa680e2a7846aaa08aac2060baca","path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false},"page/independent":{"md5":"7b5e0dafb01f33b0bf5061a638b4fce1","independent":true,"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js"],"pages":["index"]},"__APP__":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js"],"independent":false,"md5":"ba6d24a04f6b905f4c944800cf8c31e9","pages":["page/index"]}},"appType":1,"iconUrl":"https://s1-imfile.feishucdn.com/static-resource/v1/cace5838-a1c9-4829-a68a-18e4014cfeag","identifier":"cli_a0f543c81b7a900b"}
"""
    }()

    private lazy var mockJSONStringA_v2: String = {
        """
{"appVersion":"1.1.52","versionType":"current","version":"0.1.65","name":"subpackage-test","packageData":{"urls":
["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js"],"md5":"ca7498574d852ca0f27a76f4fd0cec00"},"appID":"cli_a0f543c81b7a900b","compileVersion":"","businessData":{"versionCode":1669259473,"minJSsdkVersion":"","message_action":true,"isFromBuildin":false,"chat_action":true,"extraDict":{"feedback":false,"useOpenSchemaWhiteList":true,"openSchemaWhiteList":[{"host":"itunes.apple.com","schema":"https"},{"host":"app.feishu.cn","schema":"https"},{"schema":"seal"},{"host":"canva.cn","schema":"https"},{"host":"login.microsoftonline.com","schema":"https"},{"host":"wj.bytedance.com","schema":"https"},{"host":"seal.bytedance.net","schema":"https"},{"host":"www.canva.cn","schema":"https"},{"host":"canva-china.jp.jp.ngrok.io","schema":"https"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.larksuite.com","schema":"https"},{"host":"i.snssdk.com","schema":"https"},{"host":"www.feishu.cn","schema":"https"},{"host":"crashes","schema":"chrome"},{"schema":"itms-services"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.feishu.cn","schema":"lark"},{"host":"applink.larksuite.com","schema":"https"},{"host":"larksuite.help","schema":"https"},{"host":"getfeishu.cn","schema":"https"},{"host":"approval.bytedance.com","schema":"https"},{"host":"applink.larksuite.com","schema":"lark"},{"host":"wiki.bytedance.net","schema":"https"},{"host":"accounts.google.com","schema":"https"}],"orgAuthScope":{},"web_app":{"md5":"","url":"","version_code":""},"userAuthScopeList":{"userLocation":{"mod":1,"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"mod":1,"auth":true,"modifyTime":1668564938000}},"userAuthScope":{"userLocation":{"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"auth":true,"modifyTime":1668564938000}}},"shareLevel":0,"webURL":"","minLarkVersion":""},"components":[{"name":"editor"}],"batchMetaVersion":0,"authData":{"domainsAuthDict":{},"versionUpdateTime":1669265056,"versionState":0,"blackList":[],"authList":[],"gadgetSafeUrls":["https://open.larksuite.com","https://open.feishu.cn","https://open.larksuite.com","https://app.feishu.cn","https://wj.bytedance.com","https://seal.bytedance.net","https://applink.feishu.cn","https://applink.larksuite.com","https://i.snssdk.com","https://www.feishu.cn","https://applink.feishu.cn","https://applink.larksuite.com","https://larksuite.help","https://getfeishu.cn","https://wiki.bytedance.net","https://sso.bytedance.com","https://passport.feishu.cn","https://jira.feishu.cn"],"appStatus":1},"mobileSubPackage":{"page/API":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js"],"pages":["index","pages/login/login","pages/check-session/check-session","pages/vibrate/vibrate","pages/get-user-info/get-user-info","pages/share/share","pages/watermark/watermark","pages/live-check/live-check","pages/choose-contact/choose-contact","pages/set-navigation-bar-title/set-navigation-bar-title","pages/navigator/navigator","pages/pull-down-refresh/pull-down-refresh","pages/animation/animation","pages/action-sheet/action-sheet","pages/modal/modal","pages/toast/toast","pages/get-network-type/get-network-type","pages/get-system-info/get-system-info","pages/keep-screen-brightness/keep-screen-brightness","pages/on-user-capture-screen/on-user-capture-screen","pages/make-phone-call/make-phone-call","pages/scan-code/scan-code","pages/request/request","pages/web-socket/web-socket","pages/upload-file/upload-file","pages/download-file/download-file","pages/image/image","pages/voice/voice","pages/file/file","pages/on-accelerometer-change/on-accelerometer-change","pages/on-compass-change/on-compass-change","pages/canvas/canvas","pages/page-scroll-to/page-scroll-to","pages/inneraudio/inneraudio","pages/video/video","pages/get-location/get-location","pages/open-location/open-location","pages/choose-location/choose-location","pages/storage/storage","pages/get-connected-wifi/get-connected-wifi","pages/get-clipboard-data/get-clipboard-data","pages/on-network-status-change/on-network-status-change","pages/chat/chat","pages/openschema/openschema","pages/device-authentication/device-authentication","pages/password-verify/password-verify","pages/mailto/mailto","pages/choose-chat/choose-chat","pages/get-device-id/get-deviceId","pages/get-launch-query/get-launch-query"],"independent":false,"md5":"e01543d3cf5fdc8e352f4fd75a496698"},"page/componen2":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false,"md5":"9c6101826973c82e0a3b1414c2d21ad0"},"page/component":{"md5":"bff3aa680e2a7846aaa08aac2060baca","path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false},"page/independent":{"md5":"7b5e0dafb01f33b0bf5061a638b4fce1","independent":true,"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js"],"pages":["index"]},"__APP__":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js"],"independent":false,"md5":"ba6d24a04f6b905f4c944800cf8c31e9","pages":["page/index"]}},"appType":1,"iconUrl":"https://s1-imfile.feishucdn.com/static-resource/v1/cace5838-a1c9-4829-a68a-18e4014cfeag","identifier":"cli_a0f543c81b7a900b"}
"""
    }()

    private lazy var mockJSONStringB: String = {
        """
{"appVersion":"1.1.53","versionType":"current","version":"0.1.65","name":"subpackage-test","packageData":{"urls":
["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js"],"md5":"ca7498574d852ca0f27a76f4fd0cec00"},"appID":"cli_a0f543c81b7a900b","compileVersion":"","businessData":{"versionCode":1669259473,"minJSsdkVersion":"","message_action":true,"isFromBuildin":false,"chat_action":true,"extraDict":{"feedback":false,"useOpenSchemaWhiteList":true,"openSchemaWhiteList":[{"host":"itunes.apple.com","schema":"https"},{"host":"app.feishu.cn","schema":"https"},{"schema":"seal"},{"host":"canva.cn","schema":"https"},{"host":"login.microsoftonline.com","schema":"https"},{"host":"wj.bytedance.com","schema":"https"},{"host":"seal.bytedance.net","schema":"https"},{"host":"www.canva.cn","schema":"https"},{"host":"canva-china.jp.jp.ngrok.io","schema":"https"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.larksuite.com","schema":"https"},{"host":"i.snssdk.com","schema":"https"},{"host":"www.feishu.cn","schema":"https"},{"host":"crashes","schema":"chrome"},{"schema":"itms-services"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.feishu.cn","schema":"lark"},{"host":"applink.larksuite.com","schema":"https"},{"host":"larksuite.help","schema":"https"},{"host":"getfeishu.cn","schema":"https"},{"host":"approval.bytedance.com","schema":"https"},{"host":"applink.larksuite.com","schema":"lark"},{"host":"wiki.bytedance.net","schema":"https"},{"host":"accounts.google.com","schema":"https"}],"orgAuthScope":{},"web_app":{"md5":"","url":"","version_code":""},"userAuthScopeList":{"userLocation":{"mod":1,"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"mod":1,"auth":true,"modifyTime":1668564938000}},"userAuthScope":{"userLocation":{"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"auth":true,"modifyTime":1668564938000}}},"shareLevel":0,"webURL":"","minLarkVersion":""},"components":[{"name":"editor"}],"batchMetaVersion":0,"authData":{"domainsAuthDict":{},"versionUpdateTime":1669265056,"versionState":0,"blackList":[],"authList":[],"gadgetSafeUrls":["https://open.larksuite.com","https://open.feishu.cn","https://open.larksuite.com","https://app.feishu.cn","https://wj.bytedance.com","https://seal.bytedance.net","https://applink.feishu.cn","https://applink.larksuite.com","https://i.snssdk.com","https://www.feishu.cn","https://applink.feishu.cn","https://applink.larksuite.com","https://larksuite.help","https://getfeishu.cn","https://wiki.bytedance.net","https://sso.bytedance.com","https://passport.feishu.cn","https://jira.feishu.cn"],"appStatus":1},"mobileSubPackage":{"page/API":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js"],"pages":["index","pages/login/login","pages/check-session/check-session","pages/vibrate/vibrate","pages/get-user-info/get-user-info","pages/share/share","pages/watermark/watermark","pages/live-check/live-check","pages/choose-contact/choose-contact","pages/set-navigation-bar-title/set-navigation-bar-title","pages/navigator/navigator","pages/pull-down-refresh/pull-down-refresh","pages/animation/animation","pages/action-sheet/action-sheet","pages/modal/modal","pages/toast/toast","pages/get-network-type/get-network-type","pages/get-system-info/get-system-info","pages/keep-screen-brightness/keep-screen-brightness","pages/on-user-capture-screen/on-user-capture-screen","pages/make-phone-call/make-phone-call","pages/scan-code/scan-code","pages/request/request","pages/web-socket/web-socket","pages/upload-file/upload-file","pages/download-file/download-file","pages/image/image","pages/voice/voice","pages/file/file","pages/on-accelerometer-change/on-accelerometer-change","pages/on-compass-change/on-compass-change","pages/canvas/canvas","pages/page-scroll-to/page-scroll-to","pages/inneraudio/inneraudio","pages/video/video","pages/get-location/get-location","pages/open-location/open-location","pages/choose-location/choose-location","pages/storage/storage","pages/get-connected-wifi/get-connected-wifi","pages/get-clipboard-data/get-clipboard-data","pages/on-network-status-change/on-network-status-change","pages/chat/chat","pages/openschema/openschema","pages/device-authentication/device-authentication","pages/password-verify/password-verify","pages/mailto/mailto","pages/choose-chat/choose-chat","pages/get-device-id/get-deviceId","pages/get-launch-query/get-launch-query"],"independent":false,"md5":"e01543d3cf5fdc8e352f4fd75a496698"},"page/componen2":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false,"md5":"9c6101826973c82e0a3b1414c2d21ad0"},"page/component":{"md5":"bff3aa680e2a7846aaa08aac2060baca","path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false},"page/independent":{"md5":"7b5e0dafb01f33b0bf5061a638b4fce1","independent":true,"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js"],"pages":["index"]},"__APP__":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js"],"independent":false,"md5":"ba6d24a04f6b905f4c944800cf8c31e9","pages":["page/index"]}},"appType":1,"iconUrl":"https://s1-imfile.feishucdn.com/static-resource/v1/cace5838-a1c9-4829-a68a-18e4014cfeag","identifier":"cli_a0f543c81b7a900b"}
"""
    }()

}

let mockJSONStringAStatic: String =
    """
{"appVersion":"1.1.50","versionType":"current","version":"0.1.65","name":"subpackage-test","packageData":{"urls":
["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuv_vwaen3ztjid.ttpkg.js"],"md5":"ca7498574d852ca0f27a76f4fd0cec00"},"appID":"cli_a0f543c81b7a900b","compileVersion":"","businessData":{"versionCode":1669259473,"minJSsdkVersion":"","message_action":true,"isFromBuildin":false,"chat_action":true,"extraDict":{"feedback":false,"useOpenSchemaWhiteList":true,"openSchemaWhiteList":[{"host":"itunes.apple.com","schema":"https"},{"host":"app.feishu.cn","schema":"https"},{"schema":"seal"},{"host":"canva.cn","schema":"https"},{"host":"login.microsoftonline.com","schema":"https"},{"host":"wj.bytedance.com","schema":"https"},{"host":"seal.bytedance.net","schema":"https"},{"host":"www.canva.cn","schema":"https"},{"host":"canva-china.jp.jp.ngrok.io","schema":"https"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.larksuite.com","schema":"https"},{"host":"i.snssdk.com","schema":"https"},{"host":"www.feishu.cn","schema":"https"},{"host":"crashes","schema":"chrome"},{"schema":"itms-services"},{"host":"applink.feishu.cn","schema":"https"},{"host":"applink.feishu.cn","schema":"lark"},{"host":"applink.larksuite.com","schema":"https"},{"host":"larksuite.help","schema":"https"},{"host":"getfeishu.cn","schema":"https"},{"host":"approval.bytedance.com","schema":"https"},{"host":"applink.larksuite.com","schema":"lark"},{"host":"wiki.bytedance.net","schema":"https"},{"host":"accounts.google.com","schema":"https"}],"orgAuthScope":{},"web_app":{"md5":"","url":"","version_code":""},"userAuthScopeList":{"userLocation":{"mod":1,"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"mod":1,"auth":true,"modifyTime":1668564938000}},"userAuthScope":{"userLocation":{"auth":true,"modifyTime":1668564978000},"writePhotosAlbum":{"auth":true,"modifyTime":1668564938000}}},"shareLevel":0,"webURL":"","minLarkVersion":""},"components":[{"name":"editor"}],"batchMetaVersion":0,"authData":{"domainsAuthDict":{},"versionUpdateTime":1669265056,"versionState":0,"blackList":[],"authList":[],"gadgetSafeUrls":["https://open.larksuite.com","https://open.feishu.cn","https://open.larksuite.com","https://app.feishu.cn","https://wj.bytedance.com","https://seal.bytedance.net","https://applink.feishu.cn","https://applink.larksuite.com","https://i.snssdk.com","https://www.feishu.cn","https://applink.feishu.cn","https://applink.larksuite.com","https://larksuite.help","https://getfeishu.cn","https://wiki.bytedance.net","https://sso.bytedance.com","https://passport.feishu.cn","https://jira.feishu.cn"],"appStatus":1},"mobileSubPackage":{"page/API":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_nrg8sgaald.ttpkg.js"],"pages":["index","pages/login/login","pages/check-session/check-session","pages/vibrate/vibrate","pages/get-user-info/get-user-info","pages/share/share","pages/watermark/watermark","pages/live-check/live-check","pages/choose-contact/choose-contact","pages/set-navigation-bar-title/set-navigation-bar-title","pages/navigator/navigator","pages/pull-down-refresh/pull-down-refresh","pages/animation/animation","pages/action-sheet/action-sheet","pages/modal/modal","pages/toast/toast","pages/get-network-type/get-network-type","pages/get-system-info/get-system-info","pages/keep-screen-brightness/keep-screen-brightness","pages/on-user-capture-screen/on-user-capture-screen","pages/make-phone-call/make-phone-call","pages/scan-code/scan-code","pages/request/request","pages/web-socket/web-socket","pages/upload-file/upload-file","pages/download-file/download-file","pages/image/image","pages/voice/voice","pages/file/file","pages/on-accelerometer-change/on-accelerometer-change","pages/on-compass-change/on-compass-change","pages/canvas/canvas","pages/page-scroll-to/page-scroll-to","pages/inneraudio/inneraudio","pages/video/video","pages/get-location/get-location","pages/open-location/open-location","pages/choose-location/choose-location","pages/storage/storage","pages/get-connected-wifi/get-connected-wifi","pages/get-clipboard-data/get-clipboard-data","pages/on-network-status-change/on-network-status-change","pages/chat/chat","pages/openschema/openschema","pages/device-authentication/device-authentication","pages/password-verify/password-verify","pages/mailto/mailto","pages/choose-chat/choose-chat","pages/get-device-id/get-deviceId","pages/get-launch-query/get-launch-query"],"independent":false,"md5":"e01543d3cf5fdc8e352f4fd75a496698"},"page/componen2":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznux_c00vlcr3soe.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false,"md5":"9c6101826973c82e0a3b1414c2d21ad0"},"page/component":{"md5":"bff3aa680e2a7846aaa08aac2060baca","path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js","https://sf3-cn.feishucd.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuw_jektg1tsnqb.ttpkg.js"],"pages":["index","pages/view/view","pages/scroll-view/scroll-view","pages/swiper/swiper","pages/text/text","pages/icon/icon","pages/progress/progress","pages/button/button","pages/checkbox/checkbox","pages/form/form","pages/input/input","pages/label/label","pages/picker/picker","pages/radio/radio","pages/slider/slider","pages/switch/switch","pages/textarea/textarea","pages/richtext/richtext","pages/navigator/navigator","pages/navigator/navigate","pages/navigator/redirect","pages/image/image","pages/video/video","pages/canvas/canvas","pages/web-view/web-view","pages/editor/editor","pages/picker-view/picker-view"],"independent":false},"page/independent":{"md5":"7b5e0dafb01f33b0bf5061a638b4fce1","independent":true,"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_lkm8hdqqo3b.ttpkg.js"],"pages":["index"]},"__APP__":{"path":["https://sf3-scmcdn-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js","https://sf3-cn.feishucdn.com/obj/larkdeveloper/app/cli_a0f543c81b7a900b/current/gadget_mobile_splits_pkg/lauhznuy_6vxzf9v81qq.ttpkg.js"],"independent":false,"md5":"ba6d24a04f6b905f4c944800cf8c31e9","pages":["page/index"]}},"appType":1,"iconUrl":"https://s1-imfile.feishucdn.com/static-resource/v1/cace5838-a1c9-4829-a68a-18e4014cfeag","identifier":"cli_a0f543c81b7a900b"}
"""
