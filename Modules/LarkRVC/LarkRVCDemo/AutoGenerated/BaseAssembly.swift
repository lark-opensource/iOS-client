//
//  BaseAssembly.swift
//  Lark
//
//  Auto generated by lark-project.
//  See more: https://bytedance.feishu.cn/docx/doxcnDjV99CCJ2qcihUE453Qaqg
//

import Foundation
import LarkAssembler
import AppContainer
import LKLoadable

final class BaseAssembly: LarkAssemblyInterface {
    lazy var subAssemblies = lazySubAssemblies()

    func getSubAssemblies() -> [LarkAssemblyInterface]? {
        return subAssemblies
    }

    private func lazySubAssemblies() -> [LarkAssemblyInterface] {
        let assemblies = allAssemblies()
        var set = Set<ObjectIdentifier>()
        for ass in assemblies {
            recordAllSubAssemblies(in: &set, for: ass)
        }
        return assemblies.filter { !set.contains(ObjectIdentifier(type(of: $0))) }
    }

    private func recordAllSubAssemblies(in set: inout Set<ObjectIdentifier>, for ass: LarkAssemblyInterface) {
        let subs = ass.getSubAssemblies() ?? []
        guard !subs.isEmpty else { return }
        subs.lazy.forEach {
            set.insert(ObjectIdentifier(type(of: $0)))
            $0.getSubAssemblies()?.forEach { recordAllSubAssemblies(in: &set, for: $0) }
        }
    }
}

import LarkAccount
import AnimatedTabBar
import LarkAppLinkSDK
import LarkAudio
import LarkBadgeAssembly
import LarkCacheAssembly
import LarkCloudScheme
import LarkAppConfig
import LarkCore
import UGRCoreIntegration
import LarkDebug
import LarkTour
import LarkLaunchGuide
import LarkDialogManager
import ECOInfra
import LarkEmotion
import LarkEmotionKeyboard
import LarkSecurityCompliance
import LarkFocus
import LarkKASDKAssemble
import LarkAccountAssembly
import LarkCleanAssembly
import LarkContactComponent
import LarkCoreLocation
import LarkDocsIcon
import LarkDynamicResource
import LarkEMM
import LarkFontAssembly
import LarkForward
import LarkGuide
import LarkAIInfra
import LarkMention
import LarkMonitor
import LarkNavigationAssembly
import LarkSceneManagerAssembly
import LarkSendMessage
import LarkShareContainer
import LarkSnsShare
import LarkStorageAssembly
import LarkVersionAssembly
import LarkLeanMode
import LarkMine
import LarkMinimumMode
import LarkNavigation
import LarkPrivacyAlert
import LarkQRCode
import UGReachSDK
import LarkRustClientAssembly
import LarkSDK
import LarkSearchCore
import SecSDK
import LarkSecurityAudit
import LarkSecurityComplianceInfra
import LarkSetting
import LarkSettingsBundle
import SuiteAppConfig
import LarkSuspendable
import TangramService
import LarkVersion
import LarkVideoDirector
import LarkWaterMark
import ZeroTrust

private func allAssemblies() -> [LarkAssemblyInterface] {
    return [
        AccountAssembly(),
        AnimatedTabBarAssembly(),
        AppLinkAssembly(),
        AudioAssembly(),
        BadgeAssembly(),
        CacheManagerAssembly(),
        CloudSchemeAssembly(),
        ConfigAssembly(),
        CoreAssembly(),
        CoreIntegrationAssembly(),
        DebugAssembly(),
        DefaultLarkTourDependencyAssembly(),
        DefaultLaunchGuideDependencyAssembly(),
        DialogManagerAssembly(),
        ECOCookieAssembly(),
        ECONetworkAssembly(),
        EmotionAssembly(),
        EmotionKeyboardAssembly(),
        FileCryptoAssembly(),
        FocusAssembly(),
        ImageAssembly(),
        KATabAssembly(),
        LarkAccountAssembly(),
        LarkCleanAssembly(),
        LarkContactComponentAssembly(),
        LarkCoreLocationAssembly(),
        LarkDocsIconAssembly(),
        LarkDynamicResourceAssembly(),
        LarkEMMAssembly(),
        LarkFontAssembly(),
        LarkForwardAssembly(),
        LarkGuideAssembly(),
        LarkInlineAIAssemble(),
        LarkMentionAssembly(),
        LarkMonitorAssembly(),
        LarkNavigationAssembly(),
        LarkSceneManagerAssembly(),
        LarkSecurityComplianceAssembly(),
        LarkSendMessageAssembly(),
        LarkShareContainerAssembly(),
        LarkSnsShareAssembly(),
        LarkSnsShareBaseAssembly(),
        LarkStorageAssembly(),
        LarkVersionAssembly(),
        LaunchGuideAssembly(),
        LeanModeAssembly(),
        MineAssembly(),
        MinimumAssembly(),
        NavigationAssembly(),
        PrivacyAlertAssembly(),
        QRCodeAssembly(),
        ReachSDKAssembly(),
        RustClientAssembly(),
        SDKAssembly(),
        SearchCoreAssembly(),
        SecGuardAssembly(),
        SecurityAuditAssembly(),
        SecurityComplianceInfraAssembly(),
        SecurityPolicyAssembly(),
        SettingAssembly(),
        SettingsBundleAssembly(),
        SuiteAppConfigAssembly(),
        SuspendAssembly(),
        TangramAssembly(),
        ThemeAssembly(),
        TourAssembly(),
        VersionAssembly(),
        VideoDirectorAssembly(),
        WaterMarkAssembly(),
        ZeroTrustAssembly()
    ]
}
